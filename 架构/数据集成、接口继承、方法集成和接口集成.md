## 一句话对照

- **方法集成**：同进程里直接**函数/方法调用**整合；最快、耦合最紧、性能最好，跨语言差。
    
- **接口集成**：不同进程/系统通过**API/消息**交互；解耦、可扩展，是系统间协作主流。
    
- **数据集成**：以**数据为中心**打通（ETL/CDC/数据虚拟化/数据湖）；偏分析/共享数据视角。
    
- **界面集成**：在**前端界面**把多个系统“拼”成一体（门户/嵌入式）；落地快但脆弱。
    

---

# 1) 方法集成（In-Process / Library Integration）

**定义**：把能力做成库/模块，在**同一进程**内通过方法/函数调用复用。  
**常用技术**：语言包（Jar、Wheel、NuGet）、插件机制（SPI/DI）、FFI、AOP、SDK。  
**典型场景**

- 单体/模块化应用内部复用：如“算法库”“公共校验库”“UI 组件库”。
    
- 需要**极致性能**与**类型安全**的场景（无网络开销）。  
    **优点**
    
- 调用开销最低；调试简单；编译期类型检查。  
    **缺点**
    
- **耦合最紧**：版本/语言/运行时强绑定；难以独立扩缩容与发布。  
    **适合用在**：同团队、同技术栈、变化频率同步的**内部模块**复用。  
    **不适合**：跨语言、跨团队、独立部署与弹性伸缩要求高的系统边界。
    

---

# 2) 接口集成（Service/API Integration）

**定义**：通过**网络接口**交互，系统间“能力即服务”。  
**常用技术**

- 同步：REST、gRPC、GraphQL。
    
- 异步：消息/事件（Kafka、RabbitMQ、Pulsar）、Webhook、EventBridge。
    
- 治理：API Gateway、服务注册发现、契约测试（PACT）、Schema Registry、熔断与限流。  
    **典型场景**
    
- 微服务与 BFF；对外生态/合作伙伴接入；跨团队/跨语言协作。  
    **优点**
    
- **解耦**、跨语言、可独立部署与弹性扩容；边界清晰，利于治理与安全。  
    **缺点**
    
- 网络与一致性复杂度上升；可观测性/重试/幂等等配套成本。  
    **适合用在**：**系统边界**处（团队/组织/部署单元之间）的主流集成方式。
    

---

# 3) 数据集成（Data Integration）

**定义**：围绕**数据层**互通共享，形成“统一数据视图”或“数据流动”。  
**常用技术**

- **批处理** ETL/ELT（Airflow、Spark、Glue）；
    
- **CDC**（变更数据捕获：Debezium、Flink CDC）做近实时同步；
    
- **数据虚拟化/联邦查询**（Presto/Trino/Federation）；
    
- **MDM/主数据**、维度建模、数据湖/湖仓（Parquet/Iceberg/Hudi/Delta）。  
    **典型场景**
    
- BI 报表、画像与 360 视图；跨系统报表对账；近实时数据推送到下游。  
    **优点**
    
- 降低上游耦合；数据复用与沉淀；支持分析/AI/回放。  
    **缺点**
    
- **数据一致性与时效性权衡**；治理与血缘管理成本高；重复存储。  
    **适合用在**：**分析与共享数据**为目标的场景（而非强事务在线写路径）。
    

---

# 4) 界面集成（UI/Presentation Integration）

**定义**：在**前端层**把多个系统的界面组合在一起，提供“一站式”入口。  
**常用技术**

- iFrame/反向代理聚合、**微前端**（Module Federation、Single-SPA）、Web Components、嵌入式报表（Embedded Analytics）、SSO/统一导航与深链。  
    **典型场景**
    
- 运营/管控**门户**、跨系统**工单台**、快速把第三方系统“嵌入”现有平台。  
    **优点**
    
- **落地最快**；对后端零侵入；用户体验集中统一。  
    **缺点**
    
- 易受对方前端改版影响；跨域/样式冲突；可观测与无障碍一致性挑战。  
    **适合用在**：快速整合存量系统、**只需聚合操作界面**而非深度耦合的场景。
    

---

## 选型思路（经验法则）

- **是否跨进程/跨团队/跨语言？**
    
    - 否 → **方法集成**优先（简单高效）。
        
    - 是 → **接口集成**为主（边界清晰）。
        
- **主要目标是“数据共享/分析”？** → **数据集成**。
    
- **短期统一入口、轻改造、演示/运营台**？ → **界面集成**先行。
    
- **实时性 & 事务一致性**：强一致在线写 → 接口（同步/异步+补偿）；  
    弱一致/分析 → 数据集成（CDC/批）。
    
- **演进路径**：界面集成快速上线 → 接口集成沉淀服务边界 → 数据集成做全局视图 → 热点能力在内部做方法集成加速。
    

---

## 实战案例（示意）

以“电力气象预测平台”为例：

- **方法集成**：同一服务内把**SwinIR/VDT 推理**做成库，训练/推理模块直接调用。
    
- **接口集成**：对外暴露 `POST /forecast` 或 gRPC；交易系统按需拉取结果（带幂等与限流）。
    
- **数据集成**：结果落地 **Parquet/Iceberg**，通过 CDC 将实时指标推送到数仓/BI；历史评估用联邦查询汇总。
    
- **界面集成**：运营门户用**微前端**聚合“模型监控”“工单”“报表”，嵌入第三方大屏/地图。
    

---

## 常见风险与对策

- **接口契约漂移**：契约测试 + 版本化（/v1,/v2）+ 兼容期。
    
- **数据口径不一**：MDM/数据字典/血缘与质量校验。
    
- **界面易碎**：约束嵌入协议（PostMessage、Resize 适配）、CSS 隔离、可观测埋点统一。
    
- **方法集成升级难**：语义化版本 & 依赖管理（Monorepo/Package Registry），避免菱形依赖。
    

---

### 快速对照表

|方式|部署边界|性能|耦合度|跨语言|主要用途|
|---|---|---|---|---|---|
|方法集成|进程内|★★★★★|★★★★★（紧）|★|代码复用/极致性能|
|接口集成|进程间|★★★|★★（松）|★★★★★|系统协作/对外生态|
|数据集成|数据层|★★–★★★|★★（按需）|★★★★★|分析/共享/汇总|
|界面集成|表现层|★★★|★★（松）|★★★★★|门户/嵌入/快整合|