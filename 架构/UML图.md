# 结构图（Structure Diagrams）

**1) 类图（Class Diagram）**

- 场景：领域建模、面向对象设计、数据库初步建模。
    
- 解决：类/接口/枚举及其属性、方法、关系（继承、实现、关联、聚合/组合、依赖）。
    
- 避坑：关系滥用（所有连成网）；属性/方法过度细节化导致读不懂。
    

**2) 对象图（Object Diagram）**

- 场景：展示“某一时刻”的对象实例及关系快照（调试、示例说明）。
    
- 解决：样例数据/对象实例化后的真实连线。
    
- 避坑：把对象图当类图用；缺少具体值。
    

**3) 组件图（Component Diagram）**

- 场景：微服务/模块拆分、接口依赖、包管理、交付件边界。
    
- 解决：组件与提供/需要的接口、版本与替换关系。
    
- 避坑：把运行节点画进来（那是部署图的事）。
    

**4) 组合结构图（Composite Structure Diagram）**

- 场景：类内部端口/部件协作、插件点/端口式架构、复杂 UI 组件内部结构。
    
- 解决：运行时角色（Part）、端口（Port）、协作（Collaboration）。
    
- 避坑：当类图用；忽略端口契约。
    

**5) 包图（Package Diagram）**

- 场景：大项目分层分包、团队边界、依赖方向约束。
    
- 解决：包之间的依赖与可见性规则。
    
- 避坑：包含关系与依赖关系混淆；层次太深。
    

**6) 部署图（Deployment Diagram）**

- 场景：上线/运维、环境规划、容器/节点/中间件分布。
    
- 解决：节点（物理/虚拟/容器）、通信链路、已部署构件。
    
- 避坑：画到代码级细节；把逻辑组件错放到物理层。
    

**7) Profile 图（Profile Diagram，UML 扩展）**

- 场景：定制 UML 语义（如为领域建模创建 stereotype）。
    
- 解决：定义 <<stereotype>>、标注领域约束。
    
- 避坑：在团队未统一前滥用自定义标注。
    

---

# 行为图（Behavior Diagrams）

**8) 用例图（Use Case Diagram）**

- 场景：需求澄清、用户价值对齐、边界识别。
    
- 解决：参与者（Actor）、系统边界、用例与包含/扩展关系。
    
- 避坑：用例＝页面清单；缺少用例叙述（主/备选流程）。
    

**9) 活动图（Activity Diagram）**

- 场景：业务流程、审批流、批处理/ETL、并行/互斥控制。
    
- 解决：控制流、泳道（责任归属）、并行/合流、条件分支。
    
- 避坑：把每个微小步骤都画上；数据对象完全缺席。
    

**10) 状态机图（State Machine Diagram）**

- 场景：订单/工单/设备/会话等“状态驱动”的对象生命周期。
    
- 解决：状态、事件/触发器、守卫条件、进入/退出动作。
    
- 避坑：把过程型逻辑当状态机；状态粒度过细。
    

**11) 顺序图（Sequence Diagram）**

- 场景：接口调用链、事务边界、异常/超时处理、时序协作。
    
- 解决：生命线、同步/异步消息、返回、激活条、条件/循环框。
    
- 避坑：只画“Happy Path”；跨服务超时/补偿未体现。
    

**12) 通信图（Communication Diagram）**

- 场景：与顺序图等价的信息，但强调“谁跟谁说话”的网络拓扑。
    
- 解决：对象之间的连接与消息编号。
    
- 避坑：复杂交互用通信图可读性较差，优先顺序图。
    

**13) 交互概览图（Interaction Overview Diagram）**

- 场景：把多个子交互（顺序图/通信图）串成“大流程”。
    
- 解决：高层编排、异常分支跳转。
    
- 避坑：既要全，又要细——导致不可读；链接缺少指向的子图。
    

**14) 时序/时间图（Timing Diagram）**

- 场景：实时/嵌入式、协议时序、UI 动画、状态随时间变化。
    
- 解决：时间轴、状态随时间的切换、信号延迟。
    
- 避坑：当顺序图使用；时间度量不明确。
    

---

# 选型速查（按“我要表达什么”来选）

- 讲**用户目标与边界** → 用例图（配合用例叙述）
    
- 讲**端到端业务流程/并行** → 活动图（泳道清楚角色）
    
- 讲**对象生命周期** → 状态机图
    
- 讲**一次请求的调用链** → 顺序图（必要时加异常/补偿）
    
- 讲**模块/微服务划分与接口** → 组件图（接口 + 依赖）
    
- 讲**包/层次与依赖方向** → 包图
    
- 讲**部署/环境/中间件** → 部署图
    
- 讲**类与关系（领域建模）** → 类图（配合术语表/样例对象图）
    
- 讲**内部端口式装配** → 组合结构图
    
- 讲**时间连续行为** → 时序/时间图
    
- 需要**定义领域注解** → Profile 图